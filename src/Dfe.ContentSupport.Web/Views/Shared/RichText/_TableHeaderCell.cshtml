@using Dfe.ContentSupport.Web.Common
@using Newtonsoft.Json.Linq
@model JToken

<th scope="col">
    @if (Model["content"] is JArray childNodes)
    {
        foreach (var childNode in childNodes)
        {
            if (childNode["nodeType"].ToString() == RichTextTags.Paragraph)
            {
                foreach (var grandChildNode in childNode["content"])
                {
                    <partial name="RichText/_RichText" model="@grandChildNode" />
                }
            }
            else
            {
                <partial name="RichText/_RichText" model="@childNode" />
            }
        }
    }
</th>